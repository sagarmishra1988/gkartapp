"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[674],{8674:function(e,n,r){r.r(n),r.d(n,{default:function(){return y}});var t=r(2791),a=r(4165),c=r(5861),i=r(9439),s=r(7689),o=r(685),l=r(9508),d="Avilablemeal_mealsloading__zgerH",u="Avilablemeal_mealserror__uQrmr",m="Mealitemforms_form__uf0IZ",h=r(1413),p="Input_input__4-Foc",x=r(184),f=t.forwardRef((function(e,n){return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("label",{htmlFor:e.input.id,children:e.label}),(0,x.jsx)("input",(0,h.Z)({ref:n},e.input))]})})})),j=r(3108),v=function(e){var n=(0,t.useState)(!0),r=(0,i.Z)(n,2),a=r[0],c=r[1],s=(0,t.useRef)(),o=(0,t.useContext)(j.V);return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("form",{className:m,onSubmit:function(n){n.preventDefault();var r=s.current.value,t=+r;0===r.trim().length||t<1||t>5?c(!1):e.onaddtocart(t)},children:[(0,x.jsx)(f,{label:"Amount",ref:s,input:{id:"amount",type:"number",min:"1",max:"10",step:"1",defaultValue:"1"}}),(0,x.jsx)("button",{children:"+Add"}),o.customerisLoggedIn&&(0,x.jsx)("button",{children:"Buy"}),!a&&(0,x.jsx)("p",{children:"please enter a valid amount (1-10)"})]})})},g=r(3373),_=function(e){var n=(0,t.useContext)(j.V);return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(g.Z,{children:[(0,x.jsx)("div",{className:"form_input_para",children:(0,x.jsx)("img",{src:"".concat("http://localhost:8000","/").concat(e.image),alt:e.title})}),(0,x.jsx)("p",{children:e.title}),(0,x.jsx)("p",{children:e.description}),(0,x.jsxs)("p",{children:[(0,x.jsx)("span",{children:"Price: "}),e.price]}),(0,x.jsx)("div",{children:(0,x.jsx)(v,{onaddtocart:function(r){n.additem({id:e.id,name:e.name,title:e.title,productcreator:e.productcreator,description:e.description,image:e.image,amount:r,price:e.price})}})})]})})},Z=r(9895),b=function(){var e=(0,t.useState)([]),n=(0,i.Z)(e,2),r=n[0],m=n[1],h=(0,l.x)(),p=h.isLoading,f=h.error,j=h.sendRequest,v=h.clearError,b=(0,s.UO)().nid;return(0,t.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n,r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j("http://localhost:8000/api"+"/places/name/".concat(b));case 3:for(t in n=e.sent,m(n.places),console.log(n.places),r=[],n)r.push({id:t,name:n[t].name,description:n[t].description,price:n[t].price});e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[j,b]),p?(0,x.jsx)("section",{className:d,children:(0,x.jsx)("p",{children:"loading..."})}):f?(0,x.jsx)("section",{className:u,children:(0,x.jsx)("p",{children:"err"})}):0===r.length?(0,x.jsx)("div",{style:{display:"flex",flexWrap:"nowrap"},className:"center",children:(0,x.jsx)(g.Z,{children:(0,x.jsx)("h2",{style:{color:"white",textDecoration:"none"},children:"No Product For Sale"})})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.Z,{error:f,onClear:v}),p&&(0,x.jsx)(Z.Z,{asOverlay:!0}),r.map((function(e){return(0,x.jsx)(_,{id:e.id,productcreator:e.creator,image:e.image,name:e.name,title:e.title,description:e.description,price:e.price},e.id)}))]})},y=function(){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{style:{display:"flex",margin:"50px",flexWrap:"wrap"},children:(0,x.jsx)(b,{})})})}},3373:function(e,n,r){r.d(n,{Z:function(){return a}});r(2791);var t=r(184),a=function(e){return(0,t.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}},685:function(e,n,r){r.d(n,{Z:function(){return m}});var t=r(2791),a=r(1413),c=r(4164),i=r(1176),s=r(9422),o=r(184),l=function(e){var n=(0,o.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[(0,o.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:(0,o.jsx)("h2",{children:e.header})}),(0,o.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[(0,o.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),(0,o.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]});return c.createPortal(n,document.getElementById("modal-hook"))},d=function(e){return(0,o.jsxs)(t.Fragment,{children:[e.show&&(0,o.jsx)(s.Z,{onClick:e.onCancel}),(0,o.jsx)(i.Z,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:(0,o.jsx)(l,(0,a.Z)({},e))})]})},u=r(3999),m=function(e){return(0,o.jsx)(d,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:(0,o.jsx)(u.Z,{onClick:e.onClear,children:"Okay"}),children:(0,o.jsx)("p",{children:e.error})})}}}]);
//# sourceMappingURL=674.fc673511.chunk.js.map