"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[55],{7055:function(e,n,r){r.r(n),r.d(n,{default:function(){return C}});var t=r(2791),a=r(4165),i=r(5861),l=r(9439),s=r(2302),u=r(3999),o=r(1512),c=r(9508),d=r(9895),h=r(685),p=r(7689),f=r(3108),v=r(184),x=function(e){var n=(0,t.useState)(),r=(0,l.Z)(n,2),a=r[0],i=r[1],s=(0,t.useState)(),o=(0,l.Z)(s,2),c=o[0],d=o[1],h=(0,t.useState)(!1),p=(0,l.Z)(h,2),f=p[0],x=p[1],m=(0,t.useRef)();(0,t.useEffect)((function(){if(a){var e=new FileReader;e.onload=function(){d(e.result)},e.readAsDataURL(a)}}),[a]);return(0,v.jsxs)("div",{className:"form-control",children:[(0,v.jsx)("input",{id:e.id,ref:m,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(n){var r,t=f;n.target.files&&1===n.target.files.length?(r=n.target.files[0],i(r),x(!0),t=!0):(x(!1),t=!1),e.onInput(e.id,r,t)}}),(0,v.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[(0,v.jsxs)("div",{className:"image-upload__preview",children:[c&&(0,v.jsx)("img",{src:c,alt:"Preview"}),!c&&(0,v.jsx)("p",{children:"Please pick an image."})]}),(0,v.jsx)(u.Z,{type:"button",onClick:function(){m.current.click()},children:"PICK IMAGE"})]}),!f&&(0,v.jsx)("p",{children:e.errorText})]})},m=r(4942),j=r(1413),g=function(e,n){switch(n.type){case"INPUT_CHANGE":var r=!0;for(var t in e.inputs)e.inputs[t]&&(r=t===n.inputId?r&&n.isValid:r&&e.inputs[t].isValid);return(0,j.Z)((0,j.Z)({},e),{},{inputs:(0,j.Z)((0,j.Z)({},e.inputs),{},(0,m.Z)({},n.inputId,{value:n.value,isValid:n.isValid})),isValid:r});case"SET_DATA":return{inputs:n.inputs,isValid:n.formIsValid};default:return e}},Z=function(){var e=(0,c.x)(),n=e.isLoading,r=e.error,m=e.sendRequest,j=e.clearError,Z=(0,t.useContext)(f.V),C=(0,p.s0)(),b=function(e,n){var r=(0,t.useReducer)(g,{inputs:e,isValid:n}),a=(0,l.Z)(r,2),i=a[0],s=a[1];return[i,(0,t.useCallback)((function(e,n,r){s({type:"INPUT_CHANGE",value:n,isValid:r,inputId:e})}),[]),(0,t.useCallback)((function(e,n){s({type:"SET_DATA",inputs:e,formIsValid:n})}),[])]}({image:{value:null,isValid:!1}},!1),N=(0,l.Z)(b,2),y=N[0],T=N[1],E=(0,o.Z)((function(e){return""!==e.trim()})),k=E.value,I=E.entervalueisvalid,w=E.haserror,R=E.valuechangehandler,A=E.valueblurhandler,V=E.reset,_=(0,o.Z)((function(e){return""!==e.trim()})),O=_.value,P=_.entervalueisvalid,S=_.haserror,F=_.valuechangehandler,D=_.valueblurhandler,B=_.reset,U=(0,o.Z)((function(e){return""!==e.trim()})),L=U.value,M=U.entervalueisvalid,G=U.haserror,H=U.valuechangehandler,q=U.valueblurhandler,z=U.reset,K=(0,o.Z)((function(e){return""!==e.trim()})),W=K.value,J=K.entervalueisvalid,Q=K.haserror,X=K.valuechangehandler,Y=K.valueblurhandler,$=K.reset,ee=(0,t.useRef)(),ne=(0,t.useRef)(),re=(0,t.useRef)(),te=(0,t.useRef)(),ae=!1;I&&P&&M&&J&&(ae=!0);var ie=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),I){e.next=3;break}return e.abrupt("return");case 3:if(P){e.next=5;break}return e.abrupt("return");case 5:if(M){e.next=7;break}return e.abrupt("return");case 7:if(J){e.next=9;break}return e.abrupt("return");case 9:return V(),B(),z(),$(),e.prev=13,(r=new FormData).append("title",O),r.append("description",L),r.append("name",k),r.append("price",W),r.append("image",y.inputs.image.value),e.next=22,m("http://localhost:8000/api/places","POST",r,{Authorization:"Bearer "+Z.token});case 22:C("/sellernewproduct"),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(13);case 27:case"end":return e.stop()}}),e,null,[[13,25]])})));return function(n){return e.apply(this,arguments)}}(),le=w?"form-control invalid":"form-control",se=S?"form-control invalid":"form-control",ue=G?"form-control invalid":"form-control",oe=Q?"form-control invalid":"form-control";return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(h.Z,{error:r,onClear:j}),n&&(0,v.jsx)(d.Z,{asOverlay:!0}),(0,v.jsx)("h2",{children:"Upload New Products"}),(0,v.jsx)("div",{className:"form_input_div",children:(0,v.jsxs)("form",{onSubmit:ie,children:[(0,v.jsxs)("div",{className:le,children:[(0,v.jsx)("label",{htmlFor:"NAME",children:"NAME"}),(0,v.jsxs)("select",{id:"NAME",ref:ee,onfocus:"focusFunction(this)",onBlur:A,onChange:R,value:k,children:[";",(0,v.jsx)("option",{style:{fontWeigh:"bold",width:"100%"},children:"SELECT"}),(0,v.jsx)("option",{children:"FOOD"}),(0,v.jsx)("option",{children:"CLOTH"}),(0,v.jsx)("option",{children:"EV"}),(0,v.jsx)("option",{children:"INFRASTRACTURE"}),(0,v.jsx)("option",{children:"DRON"}),(0,v.jsx)("option",{children:"DECORATION"})]}),w&&(0,v.jsx)("p",{children:"enter valid name"})]}),(0,v.jsxs)("div",{className:se,children:[(0,v.jsx)(s.Z,{id:"TITLE",type:"text",ref:ne,onChange:F,onBlur:D,value:O}),S&&(0,v.jsx)("p",{children:"enter valid title"})]}),(0,v.jsxs)("div",{className:ue,children:[(0,v.jsx)(s.Z,{id:"DESCRIPTION",type:"text",ref:re,onChange:H,onBlur:q,value:L}),G&&(0,v.jsx)("p",{children:"enter valid description"})]}),(0,v.jsxs)("div",{className:oe,children:[(0,v.jsx)(s.Z,{id:"PRICE",type:"number",ref:te,onChange:X,onBlur:Y,value:W}),Q&&(0,v.jsx)("p",{children:"enter valid price"})]}),(0,v.jsx)(x,{id:"image",onInput:T,errorText:"Please provide an image."}),(0,v.jsx)(u.Z,{disabled:!ae,children:"Upload New Product"}),(0,v.jsx)(u.Z,{to:"/".concat(Z.userId,"/selleralluploadedproduct"),children:"View Uploaded Products"})]})})]})},C=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(Z,{})})}},2302:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("label",{htmlFor:e.id,children:e.id}),(0,t.jsx)("input",{style:{width:"100%"},type:e.type,id:e.id,onChange:e.onChange,ref:e.ref,onBlur:e.onBlur,value:e.value})]})}},685:function(e,n,r){r.d(n,{Z:function(){return h}});var t=r(2791),a=r(1413),i=r(4164),l=r(1176),s=r(9422),u=r(184),o=function(e){var n=(0,u.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[(0,u.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:(0,u.jsx)("h2",{children:e.header})}),(0,u.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[(0,u.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),(0,u.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]});return i.createPortal(n,document.getElementById("modal-hook"))},c=function(e){return(0,u.jsxs)(t.Fragment,{children:[e.show&&(0,u.jsx)(s.Z,{onClick:e.onCancel}),(0,u.jsx)(l.Z,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:(0,u.jsx)(o,(0,a.Z)({},e))})]})},d=r(3999),h=function(e){return(0,u.jsx)(c,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:(0,u.jsx)(d.Z,{onClick:e.onClear,children:"Okay"}),children:(0,u.jsx)("p",{children:e.error})})}},1512:function(e,n,r){var t=r(9439),a=r(2791),i={value:"",isTouched:!1},l=function e(n,r){return"input"===r.type?{value:r.value,isTouched:n.isTouched}:"blur"===r.type?{isTouched:!0,value:n.value}:"reset"===r.type?{isTouched:!1,value:""}:e};n.Z=function(e){var n=(0,a.useReducer)(l,i),r=(0,t.Z)(n,2),s=r[0],u=r[1],o=e(s.value),c=!o&&s.isTouched;return{value:s.value,entervalueisvalid:o,haserror:c,valuechangehandler:function(e){u({type:"input",value:e.target.value})},valueblurhandler:function(){u({type:"blur"})},reset:function(){u({type:"reset"})}}}}}]);
//# sourceMappingURL=55.d2e739f5.chunk.js.map